webpackJsonp([18],{594:function(t,n,e){var o=e(41)(e(649),e(723),null,null,null);t.exports=o.exports},597:function(t,n,e){t.exports={default:e(598),__esModule:!0}},598:function(t,n,e){var o=e(29),r=o.JSON||(o.JSON={stringify:JSON.stringify});t.exports=function(t){return r.stringify.apply(r,arguments)}},603:function(t,n,e){"use strict";e.d(n,"h",function(){return s}),e.d(n,"i",function(){return l}),e.d(n,"n",function(){return c}),e.d(n,"k",function(){return d}),e.d(n,"l",function(){return f}),e.d(n,"m",function(){return p}),e.d(n,"j",function(){return h}),e.d(n,"s",function(){return g}),e.d(n,"p",function(){return m}),e.d(n,"b",function(){return y}),e.d(n,"g",function(){return v}),e.d(n,"d",function(){return j}),e.d(n,"a",function(){return C}),e.d(n,"e",function(){return w}),e.d(n,"c",function(){return T}),e.d(n,"f",function(){return b}),e.d(n,"o",function(){return F}),e.d(n,"q",function(){return x}),e.d(n,"r",function(){return A});var o=e(76),r=e.n(o),a=e(233),i=e.n(a),u=e(232),s=function(){return i.a.post(u.a+"/jade/agent/selectAgent.action",{},{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(t){return r.a.resolve(t.data)},function(t){console.log(t)})},l=function(t){return i.a.post(u.a+"/jade/agent/getAgentBySid.action",t,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(t){return r.a.resolve(t.data)},function(t){console.log(t)})},c=function(t){return i.a.post(u.a+"/jade/agent/setUserNumber.action",t,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(t){return r.a.resolve(t.data)},function(t){console.log(t)})},d=function(t){return i.a.post(u.a+"/jade/agent/cancelAgent.action",t,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(t){return r.a.resolve(t.data)},function(t){console.log(t)})},f=function(t){return i.a.post(u.a+"/jade/agent/activationAgent.action",t,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(t){return r.a.resolve(t.data)},function(t){console.log(t)})},p=function(t){return i.a.post(u.a+"/jade/agent/delAgent.action",t,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(t){return r.a.resolve(t.data)},function(t){console.log(t)})},h=function(t){return i.a.post(u.a+"/jade/agent/getUserMessage.action",t,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(t){return r.a.resolve(t.data)},function(t){console.log(t)})},g=function(t){return i.a.post(u.a+"/jade/agent/addAgent.action",t,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(t){return r.a.resolve(t.data)},function(t){console.log(t)})},m=function(t){return i.a.post(u.a+"/jade/agent/updateAgent.action",t,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(t){return r.a.resolve(t.data)},function(t){console.log(t)})},y=function(t){return i.a.post(u.a+"/jade/authority/getAllAuthority.action",t,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(t){return r.a.resolve(t.data)},function(t){console.log(t)})},v=function(t){return i.a.post(u.a+"/jade/authority/addRole.action",t,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(t){return r.a.resolve(t.data)},function(t){console.log(t)})},j=function(t){return i.a.post(u.a+"/jade/authority/updateRole.action",t,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(t){return r.a.resolve(t.data)},function(t){console.log(t)})},C=function(t){return i.a.post(u.a+"/jade/authority/getRoleList.action",t,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(t){return r.a.resolve(t.data)},function(t){console.log(t)})},w=function(t){return i.a.post(u.a+"/jade/authority/delRole.action",t,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(t){return r.a.resolve(t.data)},function(t){console.log(t)})},T=function(t){return i.a.post(u.a+"/jade/authority/getRoleAuthority.action",t,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(t){return r.a.resolve(t.data)},function(t){console.log(t)})},b=function(t){return i.a.post(u.a+"/jade/authority/authorityOfDistribution.action",t,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(t){return r.a.resolve(t.data)},function(t){console.log(t)})},F=function(t){return i.a.post(u.a+"/jade/agent/addAgentAccount.action",t,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(t){return r.a.resolve(t.data)},function(t){console.log(t)})},x=function(t){return i.a.post(u.a+"/jade/authority/DelUser.action",t,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(t){return r.a.resolve(t.data)},function(t){console.log(t)})},A=function(t){return i.a.post(u.a+"/jade/authority/addUser.action",t,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(t){return r.a.resolve(t.data)},function(t){console.log(t)})}},649:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e(597),r=e.n(o),a=e(149),i=e.n(a),u=e(603);n.default={data:function(){return{ruleForm:{roleName:"",comment:""},rulesFrom:{roleName:[{required:!0,message:"请输入角色名称",trigger:"blur"}]},rules:[],defaultProps:{children:"children",label:"label"}}},methods:{handleCreate:function(){for(var t=this,n=[],o=this.$refs.tree.getCheckedNodes(),a=0;a<o.length;a++)n.push(o[a].id);n.map(function(t,e){if(t.length>7){var o=t.slice(0,6);n.some(function(){return o.indexOf(n)>=0})||(n.push(o),n.push(o.slice(0,4)))}}),n=this.removeDuplicatedItem(n),this.listLoading=!0,this.$refs.ruleForm.validate(function(o){if(o){var a=i()({},t.ruleForm,{data:n}),s=[];a.data.map(function(t){s.push(t)}),a.data=s.join(","),e.i(u.g)(r()(a)).then(function(n){n.success?t.$confirm("新建角色成功..","提示",{type:"success"}).then(function(){t.$router.push("/rule/list")}):t.$confirm(n.result.error,"提示",{type:"warning"}).then(function(){t.$router.push("/rule/add")})})}t.listLoading=!1})},removeDuplicatedItem:function(t){for(var n=[],e=0,o=t.length;e<o;e++)-1===n.indexOf(t[e])&&n.push(t[e]);return n}},created:function(){var t=this;this.listLoading=!0,e.i(u.b)(r()({})).then(function(n){n.success?t.rules=n.result.data:t.$confirm(n.result.error,"提示",{type:"warning"}).then(function(){}),t.listLoading=!1})}}},723:function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("el-form",{ref:"ruleForm",attrs:{model:t.ruleForm,rules:t.rulesFrom,"label-width":"80px"}},[e("el-form-item",{attrs:{label:"角色名称",prop:"roleName"}},[e("el-input",{model:{value:t.ruleForm.roleName,callback:function(n){t.$set(t.ruleForm,"roleName",n)},expression:"ruleForm.roleName"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"备注",prop:"comment"}},[e("el-input",{attrs:{type:"textarea"},model:{value:t.ruleForm.comment,callback:function(n){t.$set(t.ruleForm,"comment",n)},expression:"ruleForm.comment"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"权限"}},[e("el-tree",{ref:"tree",attrs:{data:t.rules,"show-checkbox":"","default-expand-all":"","node-key":"id","highlight-current":"",props:t.defaultProps}})],1),t._v(" "),e("el-form-item",[e("el-button",{attrs:{type:"primary"},on:{click:t.handleCreate}},[t._v("立即创建")]),t._v(" "),e("el-button",[t._v("取消")])],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=18.647c9d108608b8df270b.js.map