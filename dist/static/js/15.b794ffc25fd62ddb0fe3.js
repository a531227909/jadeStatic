webpackJsonp([15],{581:function(e,t,o){function i(e){o(692)}var a=o(41)(o(636),o(720),i,null,null);e.exports=a.exports},597:function(e,t,o){e.exports={default:o(598),__esModule:!0}},598:function(e,t,o){var i=o(29),a=i.JSON||(i.JSON={stringify:JSON.stringify});e.exports=function(e){return a.stringify.apply(a,arguments)}},604:function(e,t,o){"use strict";o.d(t,"f",function(){return l}),o.d(t,"i",function(){return c}),o.d(t,"a",function(){return d}),o.d(t,"b",function(){return m}),o.d(t,"g",function(){return p}),o.d(t,"e",function(){return u}),o.d(t,"n",function(){return g}),o.d(t,"o",function(){return h}),o.d(t,"c",function(){return f}),o.d(t,"l",function(){return v}),o.d(t,"m",function(){return b}),o.d(t,"j",function(){return C}),o.d(t,"k",function(){return y}),o.d(t,"q",function(){return F}),o.d(t,"r",function(){return A}),o.d(t,"d",function(){return w}),o.d(t,"h",function(){return _}),o.d(t,"p",function(){return x});var i=o(76),a=o.n(i),r=o(233),s=o.n(r),n=o(232),l=function(e){return s.a.post(n.a+"/jade/commodityManage/selectCommosityByCid.action",e,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(e){return a.a.resolve(e.data)},function(e){console.log(e)})},c=function(){return s.a.post(n.a+"/jade/commodityManage/getCommodityList.action",{},{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(e){return a.a.resolve(e.data)},function(e){console.log(e)})},d=function(){return s.a.post(n.a+"/jade/commodityManage/getCommoditysoldOut.action",{},{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(e){return a.a.resolve(e.data)},function(e){console.log(e)})},m=function(e){return s.a.post(n.a+"/jade/commodityManage/soldOutAndPutAway.action",e,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(e){return a.a.resolve(e.data)},function(e){console.log(e)})},p=function(e){return s.a.post(n.a+"/jade/commodityManage/delCommodity.action",e,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(e){return a.a.resolve(e.data)},function(e){console.log(e)})},u=function(e){return s.a.post(n.a+"/jade/commodityManage/getSecondByFirst.action",e,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(e){return a.a.resolve(e.data)},function(e){console.log(e)})},g=function(e){return s.a.post(n.a+"/jade/commodityManage/addCategory.action",e,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(e){return a.a.resolve(e.data)},function(e){console.log(e)})},h=function(e){return s.a.post(n.a+"/jade/commodityManage/addSecondCategory.action",e,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(e){return a.a.resolve(e.data)},function(e){console.log(e)})},f=function(e){return s.a.post(n.a+"/jade/commodityManage/getFirstCategory.action",e,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(e){return a.a.resolve(e.data)},function(e){console.log(e)})},v=function(e){return s.a.post(n.a+"/jade/commodityManage/delCategory.action",e,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(e){return a.a.resolve(e.data)},function(e){console.log(e)})},b=function(e){return s.a.post(n.a+"/jade/commodityManage/delSecondCategory.action",e,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(e){return a.a.resolve(e.data)},function(e){console.log(e)})},C=function(e){return s.a.post(n.a+"/jade/commodityManage/getAllSecondCategory.action",e,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(e){return a.a.resolve(e.data)},function(e){console.log(e)})},y=function(e){return s.a.post(n.a+"/jade/commodityManage/addSecondByFirst.action",e,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(e){return a.a.resolve(e.data)},function(e){console.log(e)})},F=function(e){return s.a.post(n.a+"/jade/commodityManage/updateSecond.action",e,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(e){return a.a.resolve(e.data)},function(e){console.log(e)})},A=function(e){return s.a.post(n.a+"/jade/commodityManage/addCommodity.action",e,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(e){return a.a.resolve(e.data)},function(e){console.log(e)})},w=function(e){return s.a.post(n.a+"/jade/commodity/getCondition.action",e,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(e){return a.a.resolve(e.data)},function(e){console.log(e)})},_=function(e){return s.a.post(n.a+"/jade/commodityManage/updataCommodity.action",e,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(e){return a.a.resolve(e.data)},function(e){console.log(e)})},x=function(e){return s.a.post(n.a+"/jade/commodityManage/updateCategory.action",e,{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(e){return a.a.resolve(e.data)},function(e){console.log(e)})}},636:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(149),a=o.n(i),r=o(597),s=o.n(r),n=o(604),l=o(232);t.default={data:function(){return{filters:{name:""},totalData:[],topics:[],total:0,rules:sessionStorage.getItem("rules"),rulesEdit:{firstId:[{required:!0,message:"请输入一级类别",trigger:"blur"}],name:[{required:!0,message:"请输入商品名称",trigger:"blur"}],size:[{required:!0,message:"请输入圈口",trigger:"blur"}],price:[{required:!0,message:"请输入价格",trigger:"blur"},{min:1,max:8,message:"不能超过8位数",trigger:"blur"}],water:[{required:!0,message:"请选择种水",trigger:"blur"}],color:[{required:!0,message:"请选择颜色",trigger:"blur"}],standarddcscribe:[{required:!0,message:"请输入内容",trigger:"change"}],imageText:[{required:!0,message:"请插入图文",trigger:"change"}]},roles:{firstId:[{required:!0,message:"请输入一级类别",trigger:"blur"}],name:[{required:!0,message:"请输入商品名称",trigger:"blur"}],size:[{required:!0,message:"请输入圈口",trigger:"blur"}],price:[{required:!0,message:"请输入价格",trigger:"blur"},{min:1,max:8,message:"不能超过8位数",trigger:"blur"}],water:[{required:!0,message:"请选择种水",trigger:"blur"}],color:[{required:!0,message:"请选择颜色",trigger:"blur"}],standarddcscribe:[{required:!0,message:"请输入内容",trigger:"change"}],imageText:[{required:!0,message:"请插入图文",trigger:"change"}]},page:1,pageSize:10,listLoading:!1,showFormVisible:!1,showLoading:!1,showForm:{cid:"",name:"",price:"",sid:"",colorName:"",colorData:[],sizeName:"",sizeData:[],img:[{name:"",url:""}],video:{name:"",url:""}},editFormVisible:!1,editForm:{name:"",sizeName:"",sizeStr:"",sizeData:new Array,colorName:"",colorStr:"",colorData:new Array,size:"",price:"",pcnumber:["1","","",""],pcprice:["","","",""],firstId:"",secondId:"",time:"",color:"",describe:"",imageText:"",img:"",video:"",status:"0"},firstCategoryOption:[],firstCategory:"",sectionCategoryOption:[],sectionCategoryOptionFlag:!0,secondCategory:"",videoOrPhotos:"",uploadVideoPost:"",dialogImageUrl:"",dialogVisible:!1,imgTextList:[],uploadServer:l.b,server:l.a,videoPostUrl:"",imgList:[],videoUrl:"",fileList:[],colorOption:[]}},methods:{addSize:function(){var e=String(this.editForm.sizeStr);this.editForm.sizeData||(this.editForm.sizeData=[]),this.editForm.sizeData.find(function(t){return t===e})||this.editForm.sizeData.push(e),this.editForm.sizeStr=""},deleteSize:function(e){this.editForm.sizeData.splice(this.editForm.sizeData.indexOf(e),1)},addColor:function(){var e=String(this.editForm.colorStr);this.editForm.colorData||(this.editForm.colorData=[]),this.editForm.colorData.find(function(t){return t===e})||this.editForm.colorData.push(e),this.editForm.colorStr=""},deleteColor:function(e){this.editForm.colorData.splice(this.editForm.colorData.indexOf(e),1)},getTopics:function(){var e=this;this.listLoading=!0,o.i(n.i)().then(function(t){t.success?e.setTopics(t.result.data):e.$confirm(t.result.error,"提示",{type:"warning"}).then(function(){}),e.listLoading=!1})},setTopics:function(e){this.totalData=e.reverse(),this.total=Math.ceil(this.totalData.length/10),this.topics=e.slice(this.page-1,10)},filterData:function(){var e=this,t=[];o.i(n.i)().then(function(o){if(o.success){if(e.setTopics(o.result.data),!e.filters.name)return;e.totalData.map(function(o,i){for(var a in o)if(t.indexOf(a)<0){var r=o[a]+"";if(r.indexOf(e.filters.name)>=0){t.push(o);break}}}),e.setTopics(t)}})},handleCurrentChange:function(e){this.page=e;for(var t=[],o=10*(e-1);o<10*e;o++)this.totalData[o]&&t.push(this.totalData[o]);this.topics=t},handleOutLine:function(e){var t=this;this.$confirm("确认下架吗?","提示",{type:"warning"}).then(function(){t.listLoading=!0;var i=s()({cid:e.cid,time:e.validTime});o.i(n.b)(i).then(function(e){t.listLoading=!1,e.success?t.$message({message:"下架成功",type:"success"}):t.$message.error("下架失败"),t.handleCurrentChange(1),t.getTopics()})}).catch(function(){})},handleEdit:function(e){var t=this;this.listLoading=!0,this.sectionCategoryOptionFlag=!0,o.i(n.c)({}).then(function(i){t.firstCategoryOption=i.result.data,o.i(n.d)().then(function(o){t.imgList=[],t.videoUrl="",t.videoPostUrl="",t.uploadVideoPost="",t.imgTextList=[],t.waterOption=o.result.water,t.colorOption=o.result.color,a()(t.editForm,e,{status:"1"}),e.figuredescribe&&e.figuredescribe.map(function(e){t.imgTextList.push({name:e.key,url:e.url})});var i=JSON.parse(e.color),r=JSON.parse(e.size),s=i.data.split(",");t.editForm.colorName=i.name,t.editForm.colorData=s[0]?s:[];var n=r.data.split(",");t.editForm.sizeData=n[0]?n:[],t.editForm.sizeName=r.name;var l=t.editForm.price.split("-")[0].split(","),c=t.editForm.price.split("-")[1].split(",");t.editForm.pcnumber=l,t.editForm.pcprice=c,t.editForm.color=e.color,"0"!==e.isNoPackagemaill?(t.videoUrl=e.isNoPackagemaill[0].url,t.videoPostUrl=e.isNoPackagemaill[1].url,t.editForm.video=e.isNoPackagemaill[0].key,t.uploadVideoPost=e.isNoPackagemaill[1].key,e.commodityImg&&e.commodityImg.map(function(e){t.imgList.push({name:e.key,url:e.url})})):e.commodityImg.map(function(e){t.imgList.push({name:e.key,url:e.url})}),t.videoOrPhotos=t.editForm.videoOrPhotos,t.firstCategory=t.editForm.firstCategory,t.secondCategory=t.editForm.secondCategory||"其它",t.fileList=[],t.firstCate(t.firstCategory),t.editFormVisible=!0,t.listLoading=!1})})},firstCate:function(e){var t=this;if(!e)return!1;e===this.editForm.firstCategory&&(e=this.editForm.firstId);var i={firstId:e};o.i(n.e)(i).then(function(e){if(t.sectionCategoryOption=e.result.data,t.sectionCategoryOptionFlag=!1,"其它"===t.sectionCategoryOption[0].name||"其他"===t.sectionCategoryOption[0].name)t.secondCategory=t.sectionCategoryOption[0].name;else{for(var o=!1,i=0;i<t.sectionCategoryOption.length;i++)t.secondCategory===t.sectionCategoryOption[i].name&&(o=!0);t.secondCategory=o?t.editForm.secondCategory:t.sectionCategoryOption[0].name}})},getFirst:function(){var e=this;this.listLoading=!0,o.i(n.c)({}).then(function(t){e.firstCategoryOption=t.result.data,e.listLoading=!1})},handleDel:function(e){var t=this;this.$confirm("确认删除吗?","提示",{type:"warning"}).then(function(){t.listLoading=!0;var i=s()({cid:e.cid});o.i(n.g)(i).then(function(e){t.listLoading=!1,e.success?t.$message({message:"删除成功",type:"success"}):t.$message.error("删除失败"),t.handleCurrentChange(1),t.getTopics()})}).catch(function(){})},beforeUpload:function(e){return e.size>6291456?(this.$message({type:"error",message:"图片不可以超过6MB一张",duration:1e3}),!1):this.imgList.length>8?(this.$message({type:"error",message:"最多上传9张图片",duration:1e3}),!1):void 0},handleSuccess:function(e,t,o){this.imgList=o},handleRemove:function(e,t){this.imgList=t},handleSuccess2:function(e,t,o){this.imgTextList=o},handleRemove2:function(e,t){this.imgTextList=t},editAction:function(){var e=this;if("1"===this.videoOrPhotos){if(!this.editForm.video)return void this.$message({showClose:!0,message:"请选择要上传的视频",type:"error"});if(!this.uploadVideoPost)return void this.$message.error("请先上传视频封面");this.editForm.video.indexOf(".mp4")>0&&(this.editForm.video=this.editForm.video.slice(0,-4)),this.editForm.isNoPackagemaill=this.editForm.video+","+this.uploadVideoPost;var t=[];this.imgList.length&&this.imgList.map(function(e){e.name?t.push(e.name):e.response&&t.push(e.response.result.key)}),this.editForm.commodityImg=t.toString()}else{var i=[];this.imgList.map(function(e,t){t<9&&(e.response?i.push(e.response.result.key):i.push(e.name))}),this.editForm.commodityImg=i.join(","),this.editForm.video.indexOf(".mp4")>0&&(this.editForm.video=this.editForm.video.slice(0,-4)),this.uploadVideoPost?this.editForm.isNoPackagemaill=this.editForm.video+","+this.uploadVideoPost:"0"!==this.editForm.isNoPackagemaill?this.editForm.isNoPackagemaill=this.editForm.video+","+this.editForm.video[1].key:this.editForm.isNoPackagemaill="0"}var a=[];if(this.imgTextList.map(function(e,t){e.response?a.push(e.response.result.key):a.push(e.name)}),this.editForm.figuredescribe=a.join(","),this.editLoading=!0,this.editForm.videoOrPhotos=this.videoOrPhotos,this.editForm.firstId=this.firstCategory===this.editForm.firstCategory?this.editForm.firstId:this.firstCategory,this.secondCategory===this.sectionCategoryOption[0].name)this.editForm.secondId=this.sectionCategoryOption[0].secondId;else if("其它"===this.secondCategory||"其他"===this.secondCategory)this.editForm.secondId=this.sectionCategoryOption[0].secondId;else{for(var r=!1,l=0;l<this.sectionCategoryOption.length;l++)this.secondCategory===this.sectionCategoryOption[l].name&&(r=!0);r||(this.editForm.secondId=this.secondCategory)}this.editForm.price=this.editForm.pcnumber.join(",")+"-"+this.editForm.pcprice.join(",");var c=this.editForm;c.size={name:this.editForm.sizeName,data:this.editForm.sizeData.join(",")},c.color={name:this.editForm.colorName,data:this.editForm.colorData.join(",")};var d=s()(c);o.i(n.h)(d).then(function(t){e.editLoading=!1,t.success?e.$message({message:"更新成功",type:"success"}):e.$message.error(t.result.error),e.editFormVisible=!1,e.getTopics(),e.handleCurrentChange(e.page)})},beforeVideoUpload:function(e){var t="video/mp4"===e.type,o=e.size/1024/1024<50;return t||this.$message.error("上传视频只能是MP4格式!"),o||this.$message.error("上传视频大小不能超过 50MB!"),t&&o&&(this.videoLoading=!0),t&&o},handleSuccessVideo:function(e,t){this.videoLoading=!1,this.videoUrl=t.url,this.editForm.video=e.result.key,this.editForm.img=""},handleImportSuccess:function(e){e.success?(this.$message({message:"恭喜你 上传成功!!!",type:"success"}),this.getTopics()):this.$message.error("上传失败"),this.importsVisible=!1},submitUpload:function(){this.$refs.upload.submit()},handleImportRemove:function(){},handleVideoPostSuccess:function(e,t){this.uploadVideoPost=e.result.key,this.videoPostUrl=t.url},handelShow:function(e){var t=this;console.log(e),this.listLoading=!0;var i=s()({cid:e.cid});o.i(n.f)(i).then(function(e){var o=JSON.parse(e.result.color),i=JSON.parse(e.result.size),r=o.data.split(",");e.result.colorName=o.name,e.result.colorData=r[0]?r:[];var s=i.data.split(",");e.result.sizeData=s[0]?s:[],e.result.sizeName=i.name,a()(t.showForm,{img:[],video:{}},e.result),t.showFormVisible=!0,t.listLoading=!1})}},mounted:function(){this.getTopics()}}},667:function(e,t,o){t=e.exports=o(566)(!0),t.push([e.i,".line{border-bottom:1px solid #ccc;margin-bottom:12px}.avatar-uploader .el-upload{border:1px dashed #d9d9d9;border-radius:6px;cursor:pointer;background:#fbfdff;position:relative;overflow:hidden}.sector .el-col-5{padding-left:0!important;padding-right:0!important}.sector .el-col-5 input{text-align:center}.sector .el-col-1{padding-left:2px!important;padding-right:0!important}.avatar-uploader .el-upload:hover{border-color:#20a0ff}.avatar-uploader-icon{font-size:28px;color:#8c939d;width:148px;height:148px;line-height:148px;text-align:center}.avatar{width:148px;height:148px;display:block}.spec_bottom{height:95px;-webkit-box-sizing:border-box;box-sizing:border-box;border:1px solid #bfcbd9;padding:10px;overflow-y:auto}.spec_bottom span{margin-left:10px}","",{version:3,sources:["D:/github/jadeStatic/src/components/goods/list.vue"],names:[],mappings:"AACA,MACE,6BAA8B,AAC9B,kBAAoB,CACrB,AACD,4BACE,0BAA2B,AAC3B,kBAAmB,AACnB,eAAgB,AAChB,mBAAoB,AACpB,kBAAmB,AACnB,eAAiB,CAClB,AACD,kBACE,yBAA2B,AAC3B,yBAA4B,CAC7B,AACD,wBACE,iBAAmB,CACpB,AACD,kBACE,2BAA6B,AAC7B,yBAA4B,CAC7B,AACD,kCACE,oBAAsB,CACvB,AACD,sBACE,eAAgB,AAChB,cAAe,AACf,YAAa,AACb,aAAc,AACd,kBAAmB,AACnB,iBAAmB,CACpB,AACD,QACE,YAAa,AACb,aAAc,AACd,aAAe,CAChB,AACD,aACE,YAAa,AACb,8BAA+B,AACvB,sBAAuB,AAC/B,yBAA0B,AAC1B,aAAc,AACd,eAAiB,CAClB,AACD,kBACE,gBAAkB,CACnB",file:"list.vue",sourcesContent:["\n.line {\n  border-bottom: 1px solid #ccc;\n  margin-bottom: 12px;\n}\n.avatar-uploader .el-upload {\n  border: 1px dashed #d9d9d9;\n  border-radius: 6px;\n  cursor: pointer;\n  background: #fbfdff;\n  position: relative;\n  overflow: hidden;\n}\n.sector .el-col-5 {\n  padding-left: 0 !important;\n  padding-right: 0 !important;\n}\n.sector .el-col-5 input {\n  text-align: center;\n}\n.sector .el-col-1 {\n  padding-left: 2px !important;\n  padding-right: 0 !important;\n}\n.avatar-uploader .el-upload:hover {\n  border-color: #20a0ff;\n}\n.avatar-uploader-icon {\n  font-size: 28px;\n  color: #8c939d;\n  width: 148px;\n  height: 148px;\n  line-height: 148px;\n  text-align: center;\n}\n.avatar {\n  width: 148px;\n  height: 148px;\n  display: block;\n}\n.spec_bottom {\n  height: 95px;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  border: 1px solid #bfcbd9;\n  padding: 10px;\n  overflow-y: auto;\n}\n.spec_bottom span {\n  margin-left: 10px;\n}"],sourceRoot:""}])},692:function(e,t,o){var i=o(667);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);o(567)("7df9c149",i,!0,{})},720:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("section",[o("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[o("el-form",{attrs:{inline:!0,model:e.filters}},[o("el-form-item",[o("el-input",{attrs:{placeholder:"搜索"},model:{value:e.filters.name,callback:function(t){e.$set(e.filters,"name",t)},expression:"filters.name"}})],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:e.filterData}},[e._v("查询")])],1)],1)],1),e._v(" "),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.topics,"highlight-current-row":""}},[o("el-table-column",{attrs:{prop:"cid",label:"货号",align:"center",width:"230"}}),e._v(" "),o("el-table-column",{attrs:{prop:"firstCategory",label:"一级类别",align:"center",width:"230"}}),e._v(" "),o("el-table-column",{attrs:{prop:"secondCategory",label:"二级类别",align:"center",width:"230"}}),e._v(" "),o("el-table-column",{attrs:{prop:"name",label:"物品名称",align:"center",width:"140"}}),e._v(" "),o("el-table-column",{attrs:{label:"单价",align:"center",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(String(t.row.price).split("-")[1]?String(t.row.price).split("-")[1].split(",")[0]:t.row.price)+"\n      ")]}}])}),e._v(" "),o("el-table-column",{attrs:{prop:"shelvesTime",label:"上架时间",align:"center",width:"200"}}),e._v(" "),o("el-table-column",{attrs:{label:"有效天数",align:"center",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.validTime)+"天\n      ")]}}])}),e._v(" "),o("el-table-column",{attrs:{label:"操作",align:"center","min-width":"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{directives:[{name:"show",rawName:"v-show",value:e.rules.indexOf("01020101")>=0,expression:"rules.indexOf('01020101') >= 0"}],attrs:{type:"info",size:"small"},on:{click:function(o){e.handelShow(t.row)}}},[e._v("查看\n        ")]),e._v(" "),o("el-button",{directives:[{name:"show",rawName:"v-show",value:e.rules.indexOf("01020203")>=0,expression:"rules.indexOf('01020203') >= 0"}],attrs:{type:"danger",size:"small"},on:{click:function(o){e.handleEdit(t.row)}}},[e._v("修改\n        ")]),e._v(" "),o("el-button",{directives:[{name:"show",rawName:"v-show",value:e.rules.indexOf("01020102")>=0,expression:"rules.indexOf('01020102') >= 0"}],attrs:{type:"danger",size:"small"},on:{click:function(o){e.handleOutLine(t.row)}}},[e._v("下架\n        ")])]}}])})],1),e._v(" "),o("el-col",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],staticClass:"toolbar",attrs:{span:24}},[o("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"prev, pager, next","current-page":e.page,"page-size":e.pageSize,total:e.total*e.pageSize},on:{"update:currentPage":function(t){e.page=t},"current-change":e.handleCurrentChange}})],1),e._v(" "),o("el-dialog",{attrs:{title:"查看","close-on-click-modal":!1},model:{value:e.showFormVisible,callback:function(t){e.showFormVisible=t},expression:"showFormVisible"}},[o("el-form",{attrs:{model:e.showForm,"label-width":"120px"}},[o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.showForm.img.length,expression:"showForm.img.length"}],attrs:{label:"图片："}},[o("div",{staticClass:"block",staticStyle:{width:"300px",height:"300px"}},[o("el-carousel",{attrs:{trigger:"click"}},e._l(e.showForm.img,function(e,t){return o("el-carousel-item",{key:t},[o("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:e.url}})])}),1)],1)]),e._v(" "),o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!e.showForm.img.length,expression:"!showForm.img.length"}],attrs:{label:"视频："}},[o("video",{attrs:{src:e.showForm.video.url,controls:""}})]),e._v(" "),o("el-form-item",{attrs:{label:"名字："}},[o("div",[e._v(e._s(e.showForm.name))])]),e._v(" "),o("el-form-item",{attrs:{label:"价格："}},[o("div",[e._v(e._s(String(e.showForm.price).split("-")[1]?String(e.showForm.price).split("-")[1].split(",")[0]:e.showForm.price))])]),e._v(" "),o("el-form-item",{attrs:{label:"规格一名称："}},[o("div",[e._v(e._s(e.showForm.sizeName))])]),e._v(" "),o("el-form-item",{attrs:{label:"规格一参数列表："}},[o("div",{staticClass:"spec_bottom"},e._l(e.showForm.sizeData,function(t){return o("el-tag",{directives:[{name:"show",rawName:"v-show",value:e.showForm.sizeData.length>0,expression:"showForm.sizeData.length > 0"}],key:t,attrs:{type:"primary"}},[e._v("\n            "+e._s(t)+"\n          ")])}),1)]),e._v(" "),o("el-form-item",{attrs:{label:"规格二名称："}},[o("div",[e._v(e._s(e.showForm.colorName))])]),e._v(" "),o("el-form-item",{attrs:{label:"规格二参数列表："}},[o("div",{staticClass:"spec_bottom"},e._l(e.showForm.colorData,function(t){return o("el-tag",{directives:[{name:"show",rawName:"v-show",value:e.showForm.colorData.length>0,expression:"showForm.colorData.length > 0"}],key:t,attrs:{type:"primary"}},[e._v("\n            "+e._s(t)+"\n          ")])}),1)])],1)],1),e._v(" "),o("el-dialog",{attrs:{title:"修改","close-on-click-modal":!1},model:{value:e.editFormVisible,callback:function(t){e.editFormVisible=t},expression:"editFormVisible"}},[o("el-row",{attrs:{gutter:24}},[o("el-form",{ref:"editForm",attrs:{model:e.editForm,"label-width":"120px",rules:e.rulesEdit}},[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"一级类别",prop:"firstId"}},[o("el-select",{ref:"firstSelect",attrs:{placeholder:"请选择"},on:{change:e.firstCate},model:{value:e.firstCategory,callback:function(t){e.firstCategory=t},expression:"firstCategory"}},e._l(e.firstCategoryOption,function(e){return o("el-option",{key:e.firstId,attrs:{label:e.name,value:e.firstId}})}),1)],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"二级类别",prop:"secondId"}},[o("el-select",{attrs:{"data-oldId":e.editForm.secondId,placeholder:"请先选择一级类别"},model:{value:e.secondCategory,callback:function(t){e.secondCategory=t},expression:"secondCategory"}},e._l(e.sectionCategoryOption,function(e){return o("el-option",{key:e.secondId,attrs:{label:e.name,value:e.secondId}})}),1)],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"商品名称",prop:"name"}},[o("el-input",{model:{value:e.editForm.name,callback:function(t){e.$set(e.editForm,"name",t)},expression:"editForm.name"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticClass:"sector",attrs:{label:"商品数量区段",prop:"pcnumber"}},[o("el-col",{attrs:{span:5}},[o("el-input",{attrs:{disabled:!0},model:{value:e.editForm.pcnumber[0],callback:function(t){e.$set(e.editForm.pcnumber,0,t)},expression:"editForm.pcnumber[0]"}})],1),e._v(" "),o("el-col",{attrs:{span:1}},[e._v("-")]),e._v(" "),o("el-col",{attrs:{span:5}},[o("el-input",{model:{value:e.editForm.pcnumber[1],callback:function(t){e.$set(e.editForm.pcnumber,1,t)},expression:"editForm.pcnumber[1]"}})],1),e._v(" "),o("el-col",{attrs:{span:1}},[e._v("-")]),e._v(" "),o("el-col",{attrs:{span:5}},[o("el-input",{model:{value:e.editForm.pcnumber[2],callback:function(t){e.$set(e.editForm.pcnumber,2,t)},expression:"editForm.pcnumber[2]"}})],1),e._v(" "),o("el-col",{attrs:{span:1}},[e._v("-")]),e._v(" "),o("el-col",{attrs:{span:5}},[o("el-input",{model:{value:e.editForm.pcnumber[3],callback:function(t){e.$set(e.editForm.pcnumber,3,t)},expression:"editForm.pcnumber[3]"}})],1)],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"上架天数",prop:"validTime"}},[o("el-input",{model:{value:e.editForm.validTime,callback:function(t){e.$set(e.editForm,"validTime",t)},expression:"editForm.validTime"}},[o("template",{slot:"append"},[e._v("天")])],2)],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{staticClass:"sector",attrs:{label:"商品单价区段",prop:"pcprice"}},[o("el-col",{attrs:{span:5}},[o("el-input",{model:{value:e.editForm.pcprice[0],callback:function(t){e.$set(e.editForm.pcprice,0,t)},expression:"editForm.pcprice[0]"}})],1),e._v(" "),o("el-col",{attrs:{span:1}},[e._v("-")]),e._v(" "),o("el-col",{attrs:{span:5}},[o("el-input",{model:{value:e.editForm.pcprice[1],callback:function(t){e.$set(e.editForm.pcprice,1,t)},expression:"editForm.pcprice[1]"}})],1),e._v(" "),o("el-col",{attrs:{span:1}},[e._v("-")]),e._v(" "),o("el-col",{attrs:{span:5}},[o("el-input",{model:{value:e.editForm.pcprice[2],callback:function(t){e.$set(e.editForm.pcprice,2,t)},expression:"editForm.pcprice[2]"}})],1),e._v(" "),o("el-col",{attrs:{span:1}},[e._v("-")]),e._v(" "),o("el-col",{attrs:{span:5}},[o("el-input",{model:{value:e.editForm.pcprice[3],callback:function(t){e.$set(e.editForm.pcprice,3,t)},expression:"editForm.pcprice[3]"}})],1)],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"规格一名称",prop:"sizeName"}},[o("el-input",{model:{value:e.editForm.sizeName,callback:function(t){e.$set(e.editForm,"sizeName",t)},expression:"editForm.sizeName"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"规格一参数",prop:"sizeStr"}},[o("el-input",{model:{value:e.editForm.sizeStr,callback:function(t){e.$set(e.editForm,"sizeStr",t)},expression:"editForm.sizeStr"}},[o("template",{slot:"append"},[o("el-button",{attrs:{type:"primary"},on:{click:e.addSize}},[e._v("添加")])],1)],2)],1)],1),e._v(" "),o("el-col",{attrs:{span:24}},[o("el-form-item",{attrs:{label:"规格一参数列表"}},[o("div",{staticClass:"spec_bottom"},e._l(e.editForm.sizeData,function(t){return o("el-tag",{key:t,attrs:{closable:"",type:"primary"},on:{close:function(o){e.deleteSize(t)}}},[e._v(" "+e._s(t)+"\n              ")])}),1)])],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"规格二名称",prop:"colorName"}},[o("el-input",{model:{value:e.editForm.colorName,callback:function(t){e.$set(e.editForm,"colorName",t)},expression:"editForm.colorName"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"规格二参数",prop:"colorStr"}},[o("el-input",{model:{value:e.editForm.colorStr,callback:function(t){e.$set(e.editForm,"colorStr",t)},expression:"editForm.colorStr"}},[o("template",{slot:"append"},[o("el-button",{attrs:{type:"primary"},on:{click:e.addColor}},[e._v("添加")])],1)],2)],1)],1),e._v(" "),o("el-col",{attrs:{span:24}},[o("el-form-item",{attrs:{label:"规格二参数列表"}},[o("div",{staticClass:"spec_bottom"},e._l(e.editForm.colorData,function(t){return o("el-tag",{key:t,attrs:{closable:"",type:"primary"},on:{close:function(o){e.deleteColor(t)}}},[e._v(" "+e._s(t)+"\n              ")])}),1)])],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"是否上架"}},[o("el-radio",{staticClass:"radio",attrs:{label:"1"},model:{value:e.editForm.status,callback:function(t){e.$set(e.editForm,"status",t)},expression:"editForm.status"}},[e._v("上架")]),e._v(" "),o("el-radio",{staticClass:"radio",attrs:{label:"0"},model:{value:e.editForm.status,callback:function(t){e.$set(e.editForm,"status",t)},expression:"editForm.status"}},[e._v("下架")])],1)],1),e._v(" "),o("el-col",{attrs:{span:24}},[o("el-form-item",{attrs:{label:"商品描述",prop:"standarddcscribe"}},[o("el-input",{attrs:{type:"textarea",autosize:{minRows:3,maxRows:4},placeholder:"请输入内容"},model:{value:e.editForm.standarddcscribe,callback:function(t){e.$set(e.editForm,"standarddcscribe",t)},expression:"editForm.standarddcscribe"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:24}},[o("el-form-item",{attrs:{label:"视频/图片",prop:"principal"}},[o("el-radio",{staticClass:"radio",attrs:{label:"0"},model:{value:e.videoOrPhotos,callback:function(t){e.videoOrPhotos=t},expression:"videoOrPhotos"}},[e._v("图片")]),e._v(" "),o("el-radio",{staticClass:"radio",attrs:{label:"1"},model:{value:e.videoOrPhotos,callback:function(t){e.videoOrPhotos=t},expression:"videoOrPhotos"}},[e._v("视频")])],1)],1),e._v(" "),o("el-col",{directives:[{name:"show",rawName:"v-show",value:0==e.videoOrPhotos,expression:"videoOrPhotos == 0"}],attrs:{span:24}},[o("el-form-item",{attrs:{label:"商品图片"}},[o("div",{staticStyle:{color:"#f00","font-weight":"600"}},[e._v("请上传750px * 750px 以上比例商品图片，图片和视频选一即可。")]),e._v(" "),o("el-upload",{attrs:{action:e.uploadServer+"/jade/image/uploadImage.action","list-type":"picture-card","on-success":e.handleSuccess,multiple:"","before-upload":e.beforeUpload,"file-list":e.imgList,name:"image","on-remove":e.handleRemove}},[o("i",{staticClass:"el-icon-plus"})]),e._v(" "),o("el-dialog",{attrs:{size:"tiny"},model:{value:e.dialogVisible,callback:function(t){e.dialogVisible=t},expression:"dialogVisible"}},[o("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1)],1),e._v(" "),o("el-col",{directives:[{name:"show",rawName:"v-show",value:0!=e.videoOrPhotos,expression:"videoOrPhotos != 0"}],attrs:{span:24}},[o("el-form-item",{attrs:{label:"商品视频",prop:"principal"}},[o("div",{staticStyle:{color:"#f00","font-weight":"600"}},[e._v("请上传播放时间为30s的商品视频，图片和视频选一即可")]),e._v(" "),o("el-upload",{staticClass:"upload-demo",staticStyle:{width:"300px"},attrs:{drag:"",action:e.uploadServer+"/jade/image/uploadVideo.action",name:"image",fileList:e.fileList,"before-upload":e.beforeVideoUpload,"on-success":e.handleSuccessVideo}},[o("i",{staticClass:"el-icon-upload"}),e._v(" "),o("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),o("em",[e._v("点击上传")])]),e._v(" "),o("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传mp4文件，且不超过50MB")])]),e._v(" "),e.videoUrl?o("video",{staticClass:"avatar",attrs:{src:e.videoUrl,controls:""}}):e._e()],1)],1),e._v(" "),o("el-col",{directives:[{name:"show",rawName:"v-show",value:0!=e.videoOrPhotos,expression:"videoOrPhotos != 0"}],attrs:{span:24}},[o("el-form-item",{attrs:{label:"视频封面"}},[o("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.uploadServer+"/jade/image/uploadImage.action","show-file-list":!1,name:"image","on-success":e.handleVideoPostSuccess}},[e.videoPostUrl?o("img",{staticClass:"avatar",attrs:{src:e.videoPostUrl}}):o("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1),e._v(" "),o("el-col",{attrs:{span:24}},[o("el-form-item",{attrs:{label:"图文描述",prop:"imageText"}},[o("el-upload",{attrs:{action:e.uploadServer+"/jade/image/uploadImage.action","list-type":"picture-card","on-success":e.handleSuccess2,name:"image",multiple:"","file-list":e.imgTextList,"on-remove":e.handleRemove2}},[o("i",{staticClass:"el-icon-plus"})]),e._v(" "),o("el-dialog",{attrs:{size:"tiny"},model:{value:e.dialogVisible,callback:function(t){e.dialogVisible=t},expression:"dialogVisible"}},[o("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1)],1)],1)],1),e._v(" "),o("div",{staticClass:"footer",staticStyle:{"text-align":"center"}},[o("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return e.editAction(t)}}},[e._v("修改")])],1),e._v(" "),o("el-row",{staticStyle:{"padding-bottom":"0px"},attrs:{gutter:24}})],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=15.b794ffc25fd62ddb0fe3.js.map